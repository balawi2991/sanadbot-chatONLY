# ุฏููู ุฏูุฌ ูุธุงู Widget ุถูู ุจููุฉ ุงููุดุฑูุน

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฏูุฌ ูุธุงู embed.js ุจูุฌุงุญ ุถูู ุจููุฉ ุงููุดุฑูุน ุงูุฑุณููุฉุ ุจุญูุซ ุฃุตุจุญ ุฌุฒุกูุง ูุง ูุชุฌุฒุฃ ูู ุงููุธุงู ุงูุฅุฏุงุฑู ุงูุฐู ูุฏูุฑ ุฅุนุฏุงุฏุงุช ุงูุจูุช ูุงูุฐูุงุก ูุงูุชุฎุตูุต.

## ๐๏ธ ุงููููู ุงูุฌุฏูุฏ

### ุงููููุงุช ุงูุฃุณุงุณูุฉ

1. **`src/lib/widget-core.ts`** - ุงูููุงุฉ ุงููุฑูุฒูุฉ
   - ุฅุฏุงุฑุฉ ุชุญููู ุฅุนุฏุงุฏุงุช ุงูุจูุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
   - ุฅุฑุณุงู ุงูุฑุณุงุฆู ุนุจุฑ API ููุญุฏ
   - ูุธุงู ุชุฎุฒูู ูุคูุช ููุฃุฏุงุก
   - ุชูููุฏ ูุนุฑูุงุช ูุฑูุฏุฉ ููุนููุงุก

2. **`src/lib/widget-generator.ts`** - ูููุฏ ุงูููุฏ
   - ุชูููุฏ JavaScript bundle ููุญุฏ
   - ุฅุฏุงุฑุฉ ุงูุฃููุงุท ูุงูุชุตููู
   - ุชุถููู ุงูุฃููููุงุช ูุงูุฑุณูู
   - ุฅูุดุงุก ูุงุฌูุฉ ุงููุณุชุฎุฏู

3. **`src/app/api/widget/[botId]/route.ts`** - ููุทุฉ ุงูููุงูุฉ
   - ุงุณุชูุจุงู ุทูุจุงุช ุงูุชุถููู
   - ุชุญููู ุฅุนุฏุงุฏุงุช ุงูุจูุช
   - ุฅุฑุฌุงุน ุงูููุฏ ุงููููุฏ

## ๐ ุขููุฉ ุงูุนูู

### 1. ุทูุจ ุงูุชุถููู
```javascript
// ูู ูููุน ุงูุนููู
<script src="https://yoursite.com/api/widget/BOT_ID" data-agent-id="BOT_ID"></script>
```

### 2. ุชุญููู ุงูุฅุนุฏุงุฏุงุช
```typescript
// ูู widget-core.ts
const botConfig = await widgetCore.loadBotConfig(botId);
// ูุชู ุชุญููู:
// - ุงุณู ุงูุจูุช
// - ุงูุฃููุงู ูุงูุดุนุงุฑ
// - ุฑุณุงูุฉ ุงูุชุฑุญูุจ
// - ุงูุดุฎุตูุฉ
// - ุญุงูุฉ ุงูุชูุนูู
```

### 3. ุชูููุฏ ุงูููุฏ
```typescript
// ูู widget-generator.ts
const script = generateWidgetScript(botConfig, apiBaseUrl);
// ูุชู ุชูููุฏ:
// - CSS styles ูุน ุงูุฃููููุดู
// - HTML structure ูููุงุฌูุฉ
// - JavaScript logic ููุชูุงุนู
// - API calls ูููุญุงุฏุซุฉ
```

### 4. ุงูุชูุงุนู ูุน ุงููุญุงุฏุซุฉ
```typescript
// ุนูุฏ ุฅุฑุณุงู ุฑุณุงูุฉ
const response = await fetch('/api/chat', {
  method: 'POST',
  body: JSON.stringify({
    message: userMessage,
    botId: BOT_CONFIG.id,
    clientId: uniqueClientId
  })
});
```

## ๐ฏ ุงููุฒุงูุง ุงููุญููุฉ

### โ ุงูุชูุญูุฏ ุงููุงูู
- **ูุตุฏุฑ ูุงุญุฏ ููุจูุงูุงุช**: ุฌููุน ุฅุนุฏุงุฏุงุช ุงูุจูุช ุชุฃุชู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุณูุง
- **API ููุญุฏ**: ุงุณุชุฎุฏุงู ููุณ endpoints ูููุญุงุฏุซุฉ ูุงูุฅุนุฏุงุฏุงุช
- **ููุทู ูุดุชุฑู**: ููุณ ุฎูุงุฑุฒููุงุช RAG ูGemini
- **ุชุตููู ูุชุณู**: ููุณ ุงูุฃููุงู ูุงูุฎุทูุท ูุงูุฃููููุดู

### โ ุณูููุฉ ุงูุตูุงูุฉ
- **ุชุนุฏูู ูุงุญุฏ**: ุฃู ุชุบููุฑ ูู ุงูุชุตููู ุฃู ุงูููุทู ูุทุจู ุนูู ูู ุดูุก
- **ูุง ุชูุฑุงุฑ**: ุฅุฒุงูุฉ ุงูููุฏ ุงูููุฑุฑ ุจูู ChatWidget ูembed
- **ุงุฎุชุจุงุฑ ูุฑูุฒู**: ุงุฎุชุจุงุฑ ุงููุธุงู ูู ููุงู ูุงุญุฏ

### โ ุงูุฃุฏุงุก ุงููุญุณู
- **ุชุฎุฒูู ูุคูุช**: ุฅุนุฏุงุฏุงุช ุงูุจูุช ุชูุญูุธ ูุคูุชุงู ูุชูููู ุงุณุชุนูุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ููุฏ ูุญุณู**: JavaScript ูุถุบูุท ููุญุณู
- **ุชุญููู ุฐูู**: ููุน ุงูุชุญููู ุงููุชูุฑุฑ ููู widget

## ๐ง ููููุฉ ุงูุชุฎุตูุต

### ุชุฎุตูุต ุงููุธูุฑ
```typescript
// ูู ููุญุฉ ุงูุชุญูู - ุตูุญุฉ ุงููุธูุฑ
// ุงูุชุบููุฑุงุช ุชูุนูุณ ููุฑุงู ุนูู:
// 1. ุตูุญุฉ ุงุฎุชุจุงุฑ ุงููุณุงุนุฏ
// 2. Widget ุงููุถูู ูู ุงูููุงูุน
// 3. ุฃู ุงุณุชุฎุฏุงู ุขุฎุฑ ููุจูุช

const botSettings = {
  name: "ุงุณู ุงูุจูุช",
  color: "#1e40af",
  logo: "ุฑุงุจุท ุงูุดุนุงุฑ",
  welcomeMessage: "ูุฑุญุจุงู! ููู ูููููู ูุณุงุนุฏุชูุ",
  personality: "ุดุฎุตูุฉ ุงูุจูุช ุงููุฎุตุตุฉ"
};
```

### ุฅุถุงูุฉ ูุตุงุฏุฑ ุงูุชุฏุฑูุจ
```typescript
// ูู ุตูุญุฉ ุงูุชุฏุฑูุจ
// ุงููุตุงุฏุฑ ุงููุถุงูุฉ ุชุคุซุฑ ุนูู:
// 1. ุฑุฏูุฏ RAG ูู ุตูุญุฉ ุงูุงุฎุชุจุงุฑ
// 2. ุฑุฏูุฏ RAG ูู Widget ุงููุถูู
// 3. ุฌูุฏุฉ ุงูุฅุฌุงุจุงุช ูู ูู ููุงู

const knowledgeSources = [
  { type: 'file', content: 'ููู PDF' },
  { type: 'link', content: 'ุฑุงุจุท ูููุน' },
  { type: 'text', content: 'ูุต ูุจุงุดุฑ' }
];
```

## ๐ ุงูุฃูุงู ูุงูุฎุตูุตูุฉ

### ุงูุชุญูู ูู ุงููููุฉ
- ูู ุทูุจ ูุชุทูุจ `botId` ุตุญูุญ
- ุงูุชุญูู ูู ุญุงูุฉ ุชูุนูู ุงูุจูุช
- ุญูุงูุฉ ูู ุงููุตูู ุบูุฑ ุงููุตุฑุญ

### ุญูุงูุฉ ุงูุจูุงูุงุช
- ุนุฏู ุชุณุฑูุจ ูุนูููุงุช ุญุณุงุณุฉ ูู ุงูููุฏ ุงููููุฏ
- ุชุดููุฑ ุงูุงุชุตุงูุงุช
- ุชุณุฌูู ุงููุญุงุฏุซุงุช ุจุดูู ุขูู

## ๐ ุงููุฑุงูุจุฉ ูุงูุชุญููู

### ุชุชุจุน ุงูุงุณุชุฎุฏุงู
```typescript
// ูู ูุญุงุฏุซุฉ ุชูุณุฌู ูุน:
{
  botId: "ูุนุฑู ุงูุจูุช",
  clientId: "ูุนุฑู ุงูุนููู ุงููุฑูุฏ",
  question: "ุณุคุงู ุงููุณุชุฎุฏู",
  answer: "ุฑุฏ ุงูุจูุช",
  responseType: "QA | RAG | FALLBACK",
  timestamp: "ููุช ุงููุญุงุฏุซุฉ"
}
```

### ุงูุฅุญุตุงุฆูุงุช ุงููุชุงุญุฉ
- ุนุฏุฏ ุงููุญุงุฏุซุงุช ุงูุฅุฌูุงูู
- ูุนุฏู ุงูุงุณุชุฎุฏุงู ุงููููู
- ุฃููุงุน ุงูุฑุฏูุฏ ุงููุณุชุฎุฏูุฉ
- ูุตุงุฏุฑ ุงููุนุฑูุฉ ุงูุฃูุซุฑ ุงุณุชุฎุฏุงูุงู

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู

### ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ
1. ุชุนุฏูู `widget-core.ts` ูุฅุถุงูุฉ ููุทู ุฌุฏูุฏ
2. ุชุญุฏูุซ `widget-generator.ts` ูุฅุถุงูุฉ ุนูุงุตุฑ UI
3. ุงูุชุฃูุฏ ูู ุชุทุจูู ุงูุชุบููุฑุงุช ุนูู ูู ุงูุงุณุชุฎุฏุงูุงุช

### ุงุฎุชุจุงุฑ ุงูุชุบููุฑุงุช
1. ุงุฎุชุจุงุฑ ูู ุตูุญุฉ `/test` ุฃููุงู
2. ุงูุชุญูู ูู Widget ุงููุถูู
3. ูุฑุงุฌุนุฉ ุงูุฃุฏุงุก ูุงูุฃูุงู

## ๐ ููุงุญุธุงุช ูููุฉ

### โ๏ธ ุชุญุฐูุฑุงุช
- **ูุง ุชุนุฏู ChatWidget ูุจุงุดุฑุฉ** - ุงุณุชุฎุฏู ุงููุธุงู ุงููุฑูุฒู
- **ุงุฎุชุจุฑ ุฏุงุฆูุงู** ูุจู ุงููุดุฑ ูู ุงูุฅูุชุงุฌ
- **ุฑุงูุจ ุงูุฃุฏุงุก** ุนูุฏ ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ

### ๐ก ูุตุงุฆุญ
- ุงุณุชุฎุฏู ุงูุชุฎุฒูู ุงููุคูุช ุจุญููุฉ
- ุงุฌุนู ุงูููุฏ ูุงุจู ูููุฑุงุกุฉ ูุงูุตูุงูุฉ
- ูุซู ุฃู ุชุบููุฑุงุช ูููุฉ

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

ุชู ุชุญููู ุงููุฏู ุงููุทููุจ ุจูุฌุงุญ:
- โ embed.js ุฃุตุจุญ ุฌุฒุกุงู ูู ุงููุธุงู ุงูุฑุณูู
- โ ูุง ุญุงุฌุฉ ูุชุนุฏูู ChatWidget ุงูุฃุตูู
- โ ูุตุฏุฑ ูุงุญุฏ ููู ุงูุชุญุฏูุซุงุช
- โ ุชุฌุฑุจุฉ ููุญุฏุฉ ูู ูู ููุงู
- โ ุณูููุฉ ุงูุตูุงูุฉ ูุงูุชุทููุฑ

ุงููุธุงู ุงูุขู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ููููุฑ ุชุฌุฑุจุฉ ูุชุณูุฉ ูููุญุฏุฉ ุณูุงุก ุฏุงุฎู ุงูููุตุฉ ุฃู ุนุจุฑ ููุฏ ุงูุชุถููู ูู ุงูููุงูุน ุงูุฎุงุฑุฌูุฉ.